//  const products = [
//   {
//     name: "Air Force 1 Classic",
//     price: 120,
//     category: "shoe",
//     description:
//       "A timeless black and white sneaker, perfect for everyday wear.",
//     image:
//       "https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8c2hvZXxlbnwwfDB8MHx8fDA%3D",
//   },
//   {
//     name: "Nike Zoom Pegasus 39",
//     price: 140,
//     category: "shoe",
//     description: "Lightweight running shoes designed for speed and comfort.",
//     image:
//       "https://images.unsplash.com/photo-1600185365483-26d7a4cc7519?q=80&w=1625&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
//   },
//   {
//     name: "Adidas Ultraboost",
//     price: 180,
//     category: "shoe",
//     description: "Premium cushioning with a breathable mesh upper.",
//     image:
//       "https://media.istockphoto.com/id/1312532007/photo/adidas-running-shoes.jpg",
//   },
//   {
//     name: "Puma RS-X",
//     price: 110,
//     category: "shoe",
//     description: "Chunky sneakers with bold design for urban fashion.",
//     image:
//       "https://images.unsplash.com/photo-1600185365483-26d7a4cc7519?q=80&w=1625&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
//   },
//   {
//     name: "Reebok Nano X3",
//     price: 130,
//     category: "shoe",
//     description: "Designed for training and high-performance workouts.",
//     image:
//       "hhttps://images.unsplash.com/photo-1465453869711-7e174808ace9?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MzV8fHNob2V8ZW58MHwwfDB8fHww",
//   },
//   {
//     name: "Jordan 1 Retro",
//     price: 200,
//     category: "shoe",
//     description: "Iconic retro basketball sneakers with premium materials.",
//     image:
//       "https://images.unsplash.com/photo-1465453869711-7e174808ace9?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MzV8fHNob2V8ZW58MHwwfDB8fHww",
//   },
//   {
//     name: "Asics Gel-Kayano 29",
//     price: 160,
//     category: "shoe",
//     description: "Stable, cushioned running shoes built for distance.",
//     image:
//       "https://images.unsplash.com/photo-1511556532299-8f662fc26c06?w=900&auto=format&fit=crop&q=60&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTB8fHNob2V8ZW58MHwwfDB8fHww",
//   },
//   {
//     name: "New Balance 550",
//     price: 150,
//     category: "shoe",
//     description: "Classic retro basketball shoe turned lifestyle staple.",
//     image:
//       "https://images.unsplash.com/photo-1600185365483-26d7a4cc7519?q=80&w=1625&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",
//   },

//   {
//     name: "High-Waist Seamless Leggings",
//     price: 45,
//     category: "leggings",
//     description: "Stretchy seamless leggings with tummy control.",
//     image:
//       "https://media.istockphoto.com/id/1318412307/photo/woman-in-leggings.jpg",
//   },
//   {
//     name: "Camo Training Leggings",
//     price: 55,
//     category: "leggings",
//     description: "Breathable leggings for gym workouts.",
//     image:
//       "https://media.istockphoto.com/id/1309324935/photo/camouflage-leggings.jpg",
//   },
//   {
//     name: "Yoga Flex Leggings",
//     price: 40,
//     category: "leggings",
//     description: "Ultra-soft leggings designed for yoga and pilates.",
//     image:
//       "https://media.istockphoto.com/id/1210534760/photo/flexible-yoga-leggings.jpg",
//   },
//   {
//     name: "Mesh Panel Leggings",
//     price: 60,
//     category: "leggings",
//     description: "Trendy leggings with mesh panels for airflow.",
//     image:
//       "https://media.istockphoto.com/id/1137013075/photo/women-sport-leggings.jpg",
//   },
//   {
//     name: "Compression Fit Leggings",
//     price: 70,
//     category: "leggings",
//     description: "Supports muscles with compression fabric.",
//     image:
//       "https://media.istockphoto.com/id/1322342341/photo/compression-leggings.jpg",
//   },
//   {
//     name: "Ombré Workout Leggings",
//     price: 50,
//     category: "leggings",
//     description: "Fashionable ombré design with sweat-wicking fabric.",
//     image:
//       "https://media.istockphoto.com/id/1273452220/photo/ombre-leggings.jpg",
//   },
//   {
//     name: "Pockets Training Leggings",
//     price: 65,
//     category: "leggings",
//     description: "Workout leggings with deep side pockets.",
//     image:
//       "https://media.istockphoto.com/id/1359323314/photo/leggings-with-pockets.jpg",
//   },
//   {
//     name: "Thermal Winter Leggings",
//     price: 55,
//     category: "leggings",
//     description: "Keeps you warm while staying flexible during training.",
//     image:
//       "https://media.istockphoto.com/id/1365467233/photo/winter-leggings.jpg",
//   },

//   {
//     name: "Adjustable Dumbbell Set",
//     price: 200,
//     category: "gym",
//     description: "Versatile dumbbell set with adjustable weight plates.",
//     image: "https://media.istockphoto.com/id/1337191333/photo/dumbbells.jpg",
//   },
//   {
//     name: "Yoga Mat Pro",
//     price: 80,
//     category: "gym",
//     description: "Non-slip premium yoga mat for comfort and stability.",
//     image: "https://media.istockphoto.com/id/1337191315/photo/yoga-mat.jpg",
//   },
//   {
//     name: "Pull-Up Bar",
//     price: 100,
//     category: "gym",
//     description: "Doorway pull-up bar for upper body strength training.",
//     image: "https://media.istockphoto.com/id/1182424231/photo/pull-up-bar.jpg",
//   },
//   {
//     name: "Resistance Band Set",
//     price: 50,
//     category: "gym",
//     description: "Set of multiple resistance levels for strength training.",
//     image:
//       "https://media.istockphoto.com/id/1345631093/photo/resistance-bands.jpg",
//   },
//   {
//     name: "Kettlebell 20kg",
//     price: 90,
//     category: "gym",
//     description: "Durable kettlebell for functional training workouts.",
//     image: "https://media.istockphoto.com/id/1212434567/photo/kettlebell.jpg",
//   },
//   {
//     name: "Foam Roller",
//     price: 35,
//     category: "gym",
//     description: "Helps with recovery and muscle relaxation.",
//     image: "https://media.istockphoto.com/id/1337191332/photo/foam-roller.jpg",
//   },
//   {
//     name: "Bench Press Set",
//     price: 300,
//     category: "gym",
//     description: "Heavy-duty bench press for home or gym use.",
//     image: "https://media.istockphoto.com/id/1357892342/photo/bench-press.jpg",
//   },
//   {
//     name: "Ab Roller Wheel",
//     price: 40,
//     category: "gym",
//     description: "Strengthens abs and core with ergonomic grip.",
//     image: "https://media.istockphoto.com/id/1325431234/photo/ab-roller.jpg",
//   },

//   {
//     name: "Football Pro Ball",
//     price: 60,
//     category: "sports",
//     description: "Official size football with durable stitching.",
//     image: "https://media.istockphoto.com/id/1355341234/photo/soccer-ball.jpg",
//   },
//   {
//     name: "Basketball Elite",
//     price: 75,
//     category: "sports",
//     description: "High-grip basketball for indoor and outdoor play.",
//     image: "https://media.istockphoto.com/id/1337191316/photo/basketball.jpg",
//   },
//   {
//     name: "Tennis Racket Carbon",
//     price: 150,
//     category: "sports",
//     description: "Lightweight carbon racket for better swing speed.",
//     image:
//       "https://media.istockphoto.com/id/1312360980/photo/tennis-racket.jpg",
//   },
//   {
//     name: "Cricket Bat PowerDrive",
//     price: 120,
//     category: "sports",
//     description: "Professional-grade cricket bat for performance players.",
//     image: "https://media.istockphoto.com/id/1185324532/photo/cricket-bat.jpg",
//   },
//   {
//     name: "Hockey Stick Pro",
//     price: 90,
//     category: "sports",
//     description: "Durable hockey stick with reinforced carbon fiber.",
//     image: "https://media.istockphoto.com/id/1337191318/photo/hockey-stick.jpg",
//   },
//   {
//     name: "Volleyball Beach Pro",
//     price: 50,
//     category: "sports",
//     description: "Soft-touch volleyball ideal for beach and court play.",
//     image: "https://media.istockphoto.com/id/1234567890/photo/volleyball.jpg",
//   },
//   {
//     name: "Baseball Bat Elite",
//     price: 110,
//     category: "sports",
//     description: "Maple wood baseball bat with balanced swing.",
//     image: "https://media.istockphoto.com/id/1312360970/photo/baseball-bat.jpg",
//   },
//   {
//     name: "Rugby Ball Pro",
//     price: 65,
//     category: "sports",
//     description: "Durable rugby ball for professional play.",
//     image: "https://media.istockphoto.com/id/1345631232/photo/rugby-ball.jpg",
//   },
// ];

// export default products;

import { createApi, fetchBaseQuery } from "@reduxjs/toolkit/query/react";

const baseQuery = fetchBaseQuery({
  baseUrl: "http://localhost:3000/api/products",
  credentials: "include",
  prepareHeaders: (headers) => {
    const token = localStorage.getItem("adminToken");
    if (token) {
      headers.set("authorization", `Bearer ${token}`);
    }
    return headers;
  },
});

const productsApi = createApi({
  reducerPath: "productsApi",
  baseQuery,
  tagTypes: ["Products"],
  endpoints: (builder) => ({
    // GET all products
    getProducts: builder.query({
      query: () => "/",
      providesTags: ["Products"],
    }),

    // GET a single product by ID
    getProduct: builder.query({
      query: (id) => `/${id}`,
      providesTags: (result, error, id) => [{ type: "Products", id }],
    }),

    // CREATE a product
    createProduct: builder.mutation({
      query: (newItem) => ({
        url: "/",
        method: "POST",
        body: newItem,
        headers: {
          "Content-type": "application/json",
        },
      }),
      invalidatesTags: ["Products"],
    }),

    // UPDATE a product
    updateProduct: builder.mutation({
      query: ({ id, ...rest }) => ({
        url: `/${id}`,
        method: "PUT",
        body: rest,
        headers: {
          "Content-type": "application/json",
        },
      }),
      invalidatesTags: ["Products"],
    }),

    // DELETE a product
    deleteProduct: builder.mutation({
      query: (id) => ({
        url: `/${id}`,
        method: "DELETE",
      }),
      invalidatesTags: ["Products"],
    }),
  }),
});

export const {
  useGetProductsQuery,
  useGetProductQuery,
  useCreateProductMutation,
  useUpdateProductMutation,
  useDeleteProductMutation,
} = productsApi;

export default productsApi;
